!function(){"undefined"==typeof _bftn_options&&(_bftn_options={}),void 0===_bftn_options.iframe_base_path&&(_bftn_options.iframe_base_path="https://widget.battleforthenet.com/iframe"),void 0===_bftn_options.animation&&(_bftn_options.animation="modal"),void 0===_bftn_options.delay&&(_bftn_options.delay=0),void 0===_bftn_options.debug&&(_bftn_options.debug=!1),void 0===_bftn_options.always_show_widget&&(_bftn_options.always_show_widget=!1),void 0===_bftn_options.show_on_date&&(_bftn_options.show_on_date=new Date(2017,6,12));var a={modal:{options:{modalAnimation:"modal",skipEmailSignup:!1,skipCallTool:!1,fastAnimation:!1,boxUnchecked:!1,org:null},init:function(a){for(var b in a)this.options[b]=a[b];return this},start:function(){b.injectCSS("_bftn_iframe_css","#_bftn_iframe { position: fixed; left: 0px; top: 0px; \t\t\t\twidth: 100%; height: 100%; z-index: 100001; }");var a=b.createIframe(this.options.modalAnimation);b.bindIframeCommunicator(a,this)},stop:function(){b.destroyIframe()}},banner:{options:{modalAnimation:"banner",position:"topright",width:430,height:104,offsetY:20,url:"https://www.battleforthenet.com",theme:"light"},init:function(a){for(var b in a)this.options[b]=a[b];return this},start:function(){switch(console.log("width: ",this.options.width),this.options.position){case"bottomright":var a="bottom: "+this.options.offsetY+"px; right: 0px;",c="bottom";break;default:var a="top: "+this.options.offsetY+"px; right: 0px;",c="top"}var d=this.options.width-1,e="#_bftn_iframe { \t\t\t\t\tposition: fixed; "+a+" \t\t\t\t\twidth: "+this.options.width+"px; \t\t\t\t\theight: "+this.options.height+"px; \t\t\t\t\tz-index: 100001; \t\t\t\t} \t\t\t\t@media (max-width:"+d+"px) { \t\t\t\t\t#_bftn_iframe { \t\t\t\t\t\tposition: absolute; \t\t\t\t\t\twidth: 100%; \t\t\t\t\t\tleft: 0px; \t\t\t\t\t\t"+c+": 0px; \t\t\t\t\t} \t\t\t\t}";b.injectCSS("_bftn_iframe_css",e);var f=b.createIframe(this.options.modalAnimation);b.bindIframeCommunicator(f,this)},stop:function(){b.destroyIframe()}}},b={injectCSS:function(a,b){var c=document.createElement("style");c.type="text/css",c.id=a,c.styleSheet?c.styleSheet.cssText=b:c.appendChild(document.createTextNode(b)),document.head.appendChild(c)},createIframe:function(a){var b=document.createElement("iframe");return b.id="_bftn_iframe",b.src=_bftn_options.iframe_base_path+"/"+a+".html",b.frameBorder=0,b.allowTransparency=!0,b.style.display="none",document.body.appendChild(b),b},destroyIframe:function(){var a=document.getElementById("_bftn_iframe");a.parentNode.removeChild(a)},bindIframeCommunicator:function(a,b){var c=function(b,c){c||(c={}),c.requestType=b,c.BFTN_WIDGET_MSG=!0,c.HOST_NAME=g,a.contentWindow.postMessage(c,"*")},d=window.addEventListener?"addEventListener":"attachEvent",e=window[d],f="attachEvent"==d?"onmessage":"message",g=this.getHostname();e(f,function(d){if(d.data&&d.data.BFTN_IFRAME_MSG)switch(delete d.data.BFTN_IFRAME_MSG,d.data.requestType){case"getAnimation":a.style.display="block",c("putAnimation",b.options);break;case"stop":b.stop()}},!1)},setCookie:function(a,b,c){var d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3);var e="expires="+d.toGMTString();document.cookie=a+"="+b+"; "+e},getCookie:function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){var e=c[d].trim();if(0==e.indexOf(b))return e.substring(b.length,e.length)}return""},getHostname:function(){return window.location.host.replace("www.","")},log:function(){_bftn_options.debug&&console.log.apply(console,arguments)}},c=function(){var c=window.location.href.indexOf("SHOW_BFTN_WIDGET")>-1;if(!_bftn_options.always_show_widget&&0==c){if(b.getCookie("_BFTN_WIDGET_SHOWN"))return;var d=new Date;if(d.getFullYear()!==_bftn_options.show_on_date.getFullYear()||d.getMonth()!==_bftn_options.show_on_date.getMonth()||d.getDate()!==_bftn_options.show_on_date.getDate())return}if(b.setCookie("_BFTN_WIDGET_SHOWN","true",365),/(iPhone|iPod)/g.test(navigator.userAgent)&&(_bftn_options.animation="banner"),void 0===a[_bftn_options.animation])return b.log("Animation undefined: "+_bftn_options.animation);var e=a[_bftn_options.animation];new Array;setTimeout(function(){e.init(_bftn_options).start()},_bftn_options.delay)},d=document.readyState;"complete"==d||"loaded"==d||"interactive"==d?c():document.addEventListener&&document.addEventListener("DOMContentLoaded",c,!1)}();